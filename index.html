<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pylithiumsso3 &mdash; pylithiumsso3  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> pylithiumsso3
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">pylithiumsso3</a></li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">pylithiumsso3</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
      <li>pylithiumsso3</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-pylithiumsso3.lithium_sso">
<span id="pylithiumsso3"></span><h1>pylithiumsso3<a class="headerlink" href="#module-pylithiumsso3.lithium_sso" title="Permalink to this heading"></a></h1>
<p>Python implementation of <code class="docutils literal notranslate"><span class="pre">lithium_sso.php</span></code>, which has the following copyright:</p>
<blockquote>
<div><p>Copyright (C) 2006 Lithium Technologies, Inc.
Emeryville, California, U.S.A.  All Rights Reserved.</p>
<p>This software is the  confidential and proprietary information
of  Lithium  Technologies,  Inc.  (“Confidential Information”)
You shall not disclose such Confidential Information and shall
use  it  only in  accordance  with  the terms of  the  license
agreement you entered into with Lithium.</p>
</div></blockquote>
<p>Example Usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Secret SSO key (128-bit or 256-bit) provided by Lithium</span>
<span class="n">sso_key</span> <span class="o">=</span> <span class="s2">&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&quot;</span>

<span class="c1"># (Optional) Secret PrivacyGuard key (128-bit or 256-bit) *NOT* to be shared with Lithium</span>
<span class="n">pg_key</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

<span class="c1"># Initialize Lithium SSO Client</span>
<span class="kn">from</span> <span class="nn">pylithiumsso3.lithium_sso</span> <span class="kn">import</span> <span class="n">LithiumSSO</span>

<span class="n">lithium</span> <span class="o">=</span> <span class="n">LithiumSSO</span><span class="p">(</span><span class="s2">&quot;example&quot;</span><span class="p">,</span> <span class="s2">&quot;.example.com&quot;</span><span class="p">,</span> <span class="n">sso_key</span><span class="p">)</span>

<span class="c1"># (Optional) Additional user profile settings to pass to Lithium</span>
<span class="n">settings</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># Example: Set the user&#39;s homepage URL</span>
<span class="n">settings</span><span class="p">[</span><span class="s2">&quot;profile.url_homepage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;http://myhomepage.example.com&quot;</span>

<span class="c1"># Example: Grant the user the Moderator role</span>
<span class="n">settings</span><span class="p">[</span><span class="s2">&quot;roles.grant&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Moderator&quot;</span>

<span class="c1"># Create the authentication token</span>
<span class="n">req_user_agent</span> <span class="o">=</span> <span class="s2">&quot;Mozilla/5.0&quot;</span>
<span class="n">req_referer</span> <span class="o">=</span> <span class="s2">&quot;example.com&quot;</span>
<span class="n">req_remote_addr</span> <span class="o">=</span> <span class="s2">&quot;10.11.12.13&quot;</span>
<span class="n">li_token</span> <span class="o">=</span> <span class="n">lithium</span><span class="o">.</span><span class="n">get_auth_token_value</span><span class="p">(</span>
    <span class="s2">&quot;1000&quot;</span><span class="p">,</span> <span class="s2">&quot;myscreenname&quot;</span><span class="p">,</span> <span class="s2">&quot;myemail@example.com&quot;</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span>
    <span class="n">req_user_agent</span><span class="p">,</span> <span class="n">req_referer</span><span class="p">,</span> <span class="n">req_remote_addr</span>
<span class="p">)</span>

<span class="c1"># The token can either be passed directly through HTTP GET/POST, or through cookies.</span>

<span class="c1"># If PrivacyGuard is enabled, you must initialize the PrivacyGuard key, and call the</span>
<span class="c1"># encryption function for each token which requires PG encryption. Example:</span>
<span class="n">lithium</span><span class="o">.</span><span class="n">init_smr</span><span class="p">(</span><span class="n">pg_hex_key</span><span class="p">)</span>
<span class="n">pg_enc_parameter</span> <span class="o">=</span> <span class="n">lithium</span><span class="o">.</span><span class="n">get_smr_field</span><span class="p">(</span><span class="s2">&quot;myemail@example.com&quot;</span><span class="p">);</span>
<span class="n">li_token</span> <span class="o">=</span> <span class="n">lithium</span><span class="o">.</span><span class="n">get_auth_token_value</span><span class="p">(</span><span class="s2">&quot;1000&quot;</span><span class="p">,</span> <span class="s2">&quot;myscreenname&quot;</span><span class="p">,</span> <span class="n">pg_enc_parameter</span><span class="p">,</span> <span class="n">settings</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="pylithiumsso3.lithium_sso.LithiumSSO">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pylithiumsso3.lithium_sso.</span></span><span class="sig-name descname"><span class="pre">LithiumSSO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sso_hex_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">server_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pylithiumsso3/lithium_sso.html#LithiumSSO"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylithiumsso3.lithium_sso.LithiumSSO" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client_id</strong> – The client or community id to create an SSO token for</p></li>
<li><p><strong>client_domain</strong> – The domain name for this token, used when transporting via cookies
(e.g., “.lithium.com”)</p></li>
<li><p><strong>server_id</strong> – The server ID</p></li>
<li><p><strong>sso_key</strong> – The 128-bit or 256-bit secret key bytes</p></li>
<li><p><strong>pg_key</strong> – The 128-bit or 256-bit PrivacyGuard key bytes</p></li>
<li><p><strong>tsid</strong> – The timestamp ID</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>client_id</strong> – The client or community id to create an SSO token for</p></li>
<li><p><strong>client_domain</strong> – The domain name for this token, used when transporting via cookies (e.g.,
“.lithium.com”)</p></li>
<li><p><strong>sso_hex_key</strong> – The 128-bit or 256-bit secret key, represented in hexadecimal</p></li>
<li><p><strong>server_id</strong> – The server id</p></li>
</ul>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>ValueError if invalid client ID, client domain, or SSO key</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pylithiumsso3.lithium_sso.LithiumSSO.decode_auth_token_value">
<span class="sig-name descname"><span class="pre">decode_auth_token_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/pylithiumsso3/lithium_sso.html#LithiumSSO.decode_auth_token_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylithiumsso3.lithium_sso.LithiumSSO.decode_auth_token_value" title="Permalink to this definition"></a></dt>
<dd><p>Returns decoded and parsed Lithium authentication token</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Lithium authentication token to decode</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Dictionary containing the following:</p>
<ul class="simple">
<li><p>”version” - Lithium token version</p></li>
<li><p>”server_id” - The server ID</p></li>
<li><p>”tsid” - The timestamp ID</p></li>
<li><p>”timestamp” - The timestamp of the request</p></li>
<li><p>”req_user_agent” - User agent from request</p></li>
<li><p>”req_referer” - Referrer from request</p></li>
<li><p>”req_remote_addr” - Remote address from request</p></li>
<li><p>”client_domain” - The domain name for this token, used when transporting via
cookies (e.g., “.lithium.com”)</p></li>
<li><p>”client_id” - The client or community id to create an SSO token for</p></li>
<li><p>”unique_id” - A non-changable id used to uniquely identify this user globally</p></li>
<li><p>”login” - The login name or screen name for this user</p></li>
<li><p>”email” - The email address for this user</p></li>
<li><p>”settings” - Profile settings where the key is the setting name and the value is
the setting value</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>ValueError if decoded value of Lithium authentication token is invalid</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylithiumsso3.lithium_sso.LithiumSSO.get_auth_token_value">
<span class="sig-name descname"><span class="pre">get_auth_token_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unique_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">login</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">req_user_agent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">req_referer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">req_remote_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/pylithiumsso3/lithium_sso.html#LithiumSSO.get_auth_token_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylithiumsso3.lithium_sso.LithiumSSO.get_auth_token_value" title="Permalink to this definition"></a></dt>
<dd><p>Returns a Lithium authentication token for the given user parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unique_id</strong> – A non-changable id used to uniquely identify this user globally.
This should be an non-reusable integer or other identifier. Email addresses can be
used, but are not recommended as this value cannot be changed.</p></li>
<li><p><strong>login</strong> – The login name or screen name for this user.  This is usually a publicly
visible field, so should not contain personally identifiable information.</p></li>
<li><p><strong>email</strong> – The email address for this user.</p></li>
<li><p><strong>settings</strong> – <p>Profile settings where the key is the setting name and the value is
the setting value. Examples of settings include:</p>
<ul>
<li><p>roles.grant = Moderator (grants the Moderator role to user)</p></li>
<li><p>profile.name_first = John (sets first name to John)</p></li>
</ul>
<p>Contact Lithium for a list of valid settings.</p>
</p></li>
<li><p><strong>req_user_agent</strong> – User agent from request. Used for security identification
information.</p></li>
<li><p><strong>req_referer</strong> – Referrer from request. Used for security identification information.</p></li>
<li><p><strong>req_remote_addr</strong> – Remote address from request. Used for security identification
information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the encrypted authentication token</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>ValueError if invalid unique ID, login, or email</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylithiumsso3.lithium_sso.LithiumSSO.get_smr_field">
<span class="sig-name descname"><span class="pre">get_smr_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/pylithiumsso3/lithium_sso.html#LithiumSSO.get_smr_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylithiumsso3.lithium_sso.LithiumSSO.get_smr_field" title="Permalink to this definition"></a></dt>
<dd><p>PrivacyGuard parameter encrypt</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – the string to return a PrivacyGuard encrypted token for</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the PrivacyGuard encrypted value of string or “” if no key set</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylithiumsso3.lithium_sso.LithiumSSO.init_smr">
<span class="sig-name descname"><span class="pre">init_smr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pg_hex_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pylithiumsso3/lithium_sso.html#LithiumSSO.init_smr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylithiumsso3.lithium_sso.LithiumSSO.init_smr" title="Permalink to this definition"></a></dt>
<dd><p>PrivacyGuard key init</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pg_hex_key</strong> – The 128-bit or 256-bit PrivacyGuard key, represented in hexadecimal</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Lithium Technologies.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>